"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shouldExclude=void 0;const plugin_1=require("@parcel/plugin"),minimatch_1=require("minimatch"),fs_extra_1=require("fs-extra"),path_1=require("path");function shouldExclude(e,r,o){const s=fs_extra_1.readJsonSync(path_1.join(r,"package.json"))?.externalsExcluder;if(o.verbose({message:`Config: ${s}`}),!s)return!1;for(const r of s){if(minimatch_1.match([e],r).length>0)return!0}return!1}exports.shouldExclude=shouldExclude,exports.default=new plugin_1.Resolver({resolve:async({filePath:e,logger:r,options:o})=>shouldExclude(e,o.projectRoot,r)?(r.verbose({message:`✅ Excluding for ${e}`}),{filePath:e,isExcluded:!0}):(r.verbose({message:`❌ Not excluding for ${e}`}),null)});